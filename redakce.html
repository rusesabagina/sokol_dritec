<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Startup</title>
  <!-- Bootstrap CSS -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="custom.css" rel="stylesheet">
  
</head>
<body>
    <img src="assets\obec-dritec.png" class="logo w-auto" alt="dritec_logo">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark" >
        <div class="container-fluid">
          <a class="navbar-brand" href="#">SK Sokol Dříteč</a>
          <div class="d-flex justify-content-end align-items-center">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav d-flex align-items-end ms-auto">
              <li class="nav-item">
                <a class="nav-link" href="index.html">Domů</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="oklubu.html">O klubu</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="muzstva.html">Mužstva</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="kontakty.html">Kontakty</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="tabulka.html">Tabulka</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="zapasy.html">Zápasy</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Redakce</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      
<div class="container">
  <div class="row">
      <div class="container-fluid mt-5 justify-content-center">
        <div ng-app="articleApp" ng-controller="ArticleController as ctrl">
          <div class="row mb-2">
            <div class="container-fluid justify-content-center">
            <h1 class="text-center">Redakční systém článků ze zápasů</h1>
          </div>
          </div>
          <div class="row">
            <div class="col-md-8">
                                  
                          <form ng-submit="ctrl.addArticle()" id="myForm" class="needs-validation" novalidate>
                                  <div class="form-floating mb-3">
                                    <input type="text" class="form-control" id="floatingText" ng-model="ctrl.newArticle.title" placeholder="Team 1 - Team 2" required>
                                    <label for="floatingText">Zápas</label>
                                  </div>
                                  <div class="form-floating mb-3">
                                    <input ng-model="ctrl.newArticle.vysledek" id="floatingText2" class="form-control" type="text" placeholder="1 - 2" required>
                                    <label for="floatingText2">Výsledek</label>
                                  </div>
                                  <div class="form-floating mb-3">
                                    <input ng-model="ctrl.newArticle.rozhodci" id="floatingText3" class="form-control" type="text" placeholder="Novák, Skočdopole, Pučmidrát" required>
                                    <label for="floatingText3">Rozhodčí</label>
                                  </div>
                                  <div class="form-floating mb-3">
                                    <input ng-model="ctrl.newArticle.guests" class="form-control" id="floatingNumber" type="number" placeholder="1000" required>
                                    <label for="floatingNumber">Počet diváků</label>
                                  </div>
                                  <div class="form-floating mb-3">
                                    <input ng-model="ctrl.newArticle.date" class="form-control" id="floatingDate" type="date" placeholder="01.01.1991" required>
                                    <label for="floatingDate">Datum</label>
                                  </div>
                                  <div>
                                    <label for="reportaz">Reportáž</label>
                                    <textarea ng-model="ctrl.newArticle.content" rows="15" class="form-control" id="reportaz"></textarea><br>
                                    <input type="file" id="floatingFile" ng-model="ctrl.imageFile" class="form-control" accept="image/*">
                                    <button type="submit" class="btn btn-dark mt-3">Generovat článek</button>
                                  </div>
                          </form>
              </div>
              <div class="col-md-4">
                          <strong><p class="mb-1">Střelci</p></strong><br>
                          <form ng-submit="ctrl.addShooter()">
                                  
                                  <div class="form-floating mb-3">
                                    <input ng-model="ctrl.newShooter.name" type="text" class="form-control" id="floatingShooterName" placeholder="Josef Novák">
                                    <label for="floatingShooterName">Jméno:</label>
                                  </div>
                                  <div class="form-floating mb-3">
                                    <input ng-model="ctrl.newShooter.minute" type="number" class="form-control" id="floatingShooterMinute" placeholder="33">
                                    <label for="floatingShooterMinute">Minuta</label>
                                  </div>
                                    <button type="submit" class="btn btn-outline-secondary mt-3 mb-3">Přidat střelce</button>
                          </form>
                        
                          <ul class="list-group">
                            <li ng-repeat="shooter in ctrl.shooters" class="list-group-item">
                              <p>{{ shooter.name }} ({{ shooter.minute }})<button class="btn btn-outline-secondary btn-sm ms-2" ng-click="ctrl.removeShooter($index)">&times;</button></p>
                            </li>
                          </ul>
                          <hr>
                          <form ng-submit="ctrl.addCard()">
                                  <strong><p class="mb-1">Karty</p></strong><br>
                                  <div class="form-floating mb-3">
                                    <select ng-model="ctrl.newCard.type" type="select" class="form-select" id="floatingSelectCard" placeholder="Josef Novák">
                                      <option value="Žlutá">Žlutá</option>
                                      <option value="Červená">Červená</option>
                                    </select>
                                    <label for="floatingSelectCard">Karta:</label>
                                  </div>
                                  <div class="form-floating mb-3">
                                    <input ng-model="ctrl.newCard.name" type="text" class="form-control" id="floatingCardName" placeholder="Josef Novák">
                                    <label for="floatingCardName">Jméno:</label>
                                  </div>
                                  <div class="form-floating mb-3">
                                    <input ng-model="ctrl.newCard.minute" type="number" class="form-control" id="floatingCardMinute" placeholder="33">
                                    <label for="floatingCardMinute">Minuta</label>
                                  </div>
                                    <button type="submit" class="btn btn-outline-secondary mt-3 mb-3">Přidat kartu</button>
                          </form>
                              <ul class="list-group">
                                <li ng-repeat="card in ctrl.cards" class="list-group-item">
                                  <p><strong>{{ card.type }}</strong> -{{ card.name }} ({{ card.minute }})<button class="btn btn-outline-secondary btn-sm ms-2" ng-click="ctrl.removeCard($index)">&times;</button></p>
                                </li>
                              </ul>
               </div>        
          </div>
          <div class="row">
            <div class="col-md">
              <div class="row" id="nahled">
                          <h2 class="mt-3 text-center">Náhled článku</h2>
              </div>
                          <ul class="list-group mb-3">
                              <li ng-repeat="article in ctrl.articles" class="list-group-item">  
                                  <div class="card" style="width: 100%;">
                                    <img ng-src="https://placehold.co/600x400" class="card-img-top" alt="placeholder">
                                    <div class="card-body">
                                    <h3 class="card-title">{{ article.title }} " {{ article.vysledek }} "</h3>
                                    <h6 class="card-title">Datum: {{ article.date }}</h6>
                                    <h6 class="card-title">Diváků: {{ article.guests }}</h6>
                                    <div class="row" style="border: solid black 1px;">
                                    
                                     <div class="col-md-6" style="border: solid red 1px;">
                                      <strong><p class="card-title">Střelci:</p></strong>
                                      <ul class="list-group list-group-flush">
                                        <li ng-repeat="shooter in ctrl.shootersFinale" class="list-group-item">
                                          <p>{{ shooter.name }} ({{ shooter.minute }})</p>
                                        </li>
                                      </ul>
                                     </div>
                                     
                                     <div class="col-md-6" style="border: solid green 1px;">
                                      <strong><p class="card-title">Karty:</p></strong>
                                      <ul class="list-group list-group-flush">
                                        <li ng-repeat="card in ctrl.cardsFinale" class="list-group-item">
                                          <p>{{ card.type }} - {{ card.name }} ({{ card.minute }})</p>
                                        </li>
                                      </ul>
                                     </div>
                                    </div>
                                    <p class="card-text">{{ article.content }}</p>
                                    <a href="#" class="btn btn-dark">Publikovat</a>
                                    </div>
                                </div>
                              </li>
                          </ul>
              </div>
            </div>   
                </div>
            </div>
        
  </div>
</div>
    <script>
      document.getElementById('myForm').addEventListener('submit', function(event) {
          event.preventDefault();
  
          var textInput = document.getElementById('floatingText');
          var dateInput = document.getElementById('floatingDate');
          var textInput2 = document.getElementById('floatingText2');
          var numberInput = document.getElementById('floatingNumber');
  
          var textValue = textInput.value.trim();
          var dateValue = dateInput.value;
          var textValue2 = textInput2.value;
          var numberValue = numberInput.value;
  
          // Custom validation for each input field
  
          if (textValue === '') {
              textInput.classList.add('is-invalid');
          } else {
              textInput.classList.remove('is-invalid');
          }
  
          if (dateValue === '') {
              dateInput.classList.add('is-invalid');
          } else {
              dateInput.classList.remove('is-invalid');
          }
  
          if (textValue2 === '') {
              textInput2.classList.add('is-invalid');
          } else {
              textInput2.classList.remove('is-invalid');
          }
          if (numberValue === '') {
              numberInput.classList.add('is-invalid');
          } else {
              numberInput.classList.remove('is-invalid');
          }
          // Submit the form if all fields are valid
          if (textValue !== '' && textValue2 !== '' && dateValue !== '' && numberValue !== '') {
              this.submit();
          }
      });
  </script>
  
    <script>
      angular.module('articleApp', []).controller('ArticleController', function($scope) {
      var vm = this;
    

    vm.shootersFinale = [];
    vm.shooters = [];
    vm.cards = [];
    vm.newCard = {type: '', name: '', minute: ''};
    vm.newShooter = {name: '', minute: ''};
    vm.articles = [];
    vm.newArticle = {title: '', content: '', referee: '', image: '', vysledek: '', date: '', guests: '', shooters: ''};

    vm.addShooter = function() {
    vm.shooters.push({
      name: vm.newShooter.name,
      minute: vm.newShooter.minute,
    })
    vm.newShooter.name = '';
    vm.newShooter.minute = '';
  };
    vm.removeShooter = function (x) {
    vm.shooters.splice(x, 1);
  };
  vm.addCard = function() {
    vm.cards.push({
      type: vm.newCard.type,
      name: vm.newCard.name,
      minute: vm.newCard.minute,
    })
    vm.newCard.type = '';
    vm.newCard.name = '';
    vm.newCard.minute = '';
  };
    vm.removeCard = function (y) {
    vm.cards.splice(y, 1);
  };
  
    vm.addArticle = function() {
      
        vm.articles.push({
          title: vm.newArticle.title, 
          content: vm.newArticle.content, 
          image: vm.newArticle.image, 
          vysledek: vm.newArticle.vysledek,
          referee: vm.newArticle.rozhodci,
          date: vm.newArticle.date.toLocaleDateString(),
          guests: vm.newArticle.guests,
          
        })
        vm.cardsFinale = [];
        vm.shootersFinale = [];
        vm.shootersFinale = vm.shootersFinale.concat(vm.shooters);
        vm.cardsFinale = vm.cardsFinale.concat(vm.cards);
        vm.newArticle.title = '';
        vm.newArticle.content = '';
        vm.newArticle.vysledek = '';
        vm.newArticle.rozhodci = '';
        vm.newArticle.date = '';
        vm.newArticle.guests = '';
        vm.shooters = [];
        vm.cards = [];
    };
})
      </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
